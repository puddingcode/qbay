(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-88add2de"],{"0a5f":function(t,e,r){},"355e":function(t,e,r){"use strict";r("0a5f")},"924c":function(t,e,r){"use strict";r.r(e);r("4de4");var s=r("5530"),n=r("2f62"),u={mounted:function(){this.$route.params.username&&(this.subAccount=this.$route.params)},data:function(){return{subAccount:{username:"",password:""},oldName:this.$route.params.username,isLoading:!1}},methods:Object(s.a)({complete:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.isLoading=!0,t.$route.params.username?t.modifySubAccount():t.addSubAccount())}))},modifySubAccount:function(){var t=this;this.alterSub({username:this.oldName,subAccount:this.subAccount}).then((function(){t.isLoading=!1,t.$refs.form.resetFields(),t.$alert(t.$t("public.modifySuccessMsg"),"",{confirmButtonText:t.$t("btn.confirm"),center:!0}).then((function(){t.$router.go(-1)}))})).catch((function(e){e&&(t.isLoading=!1,t.$refs.form.resetFields(),t.$message.error(t.$t("error.serverErr")))}))},addSubAccount:function(){var t=this;this.registerSubAccount(this.subAccount).then((function(){t.isLoading=!1,t.$refs.form.resetFields(),t.$alert(t.$t("public.addSuccessMsg"),"",{confirmButtonText:t.$t("btn.confirm"),center:!0}).then((function(){t.$router.push({path:"/subaccount/index/listofsubaccounts"})}))})).catch((function(e){e&&(t.isLoading=!1,t.$refs.form.resetFields(),t.$message.error(t.$t("error.serverErr")))}))}},Object(n.b)({registerSubAccount:"user/registerSubAccount",alterSub:"user/alterSubAccount"})),computed:Object(s.a)({editNameRule:function(){var t=this;return{username:[{validator:function(e,r,s){t.subAccountList.filter((function(t){return t.username===r})).length?s(new Error(t.$t("error.sameNameErr"))):s()},trigger:"blur"},{required:!0,message:this.$t("subAccount.nameRequiredErrMsg"),trigger:"blur"},{validator:function(e,r,s){r?/^[a-zA-Z0-9]{6,12}$/.test(r)?s():s(new Error(t.$t("subAccount.nameLengthErrMsg"))):s()}}]}},normalRules:function(){var t=this;return{username:[{required:!0,message:this.$t("subAccount.nameRequiredErrMsg"),trigger:"blur"},{validator:function(e,r,s){r?/^[a-zA-Z0-9]{6,12}$/.test(r)?s():s(new Error(t.$t("subAccount.nameLengthErrMsg"))):s()}}],password:[{required:!0,message:this.$t("subAccount.passwordRequiredErrMsg"),trigger:"blur"},{min:8,max:16,message:this.$t("subAccount.passwordLengthErrMsg")},{validator:function(e,r,s){r?/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{8,16}$/.test(r)?s():s(new Error(t.$t("subAccount.passwordTypeErrMsg"))):s()}}]}},addingRules:function(){return this.$route.params.username?this.normalRules:Object(s.a)(Object(s.a)({},this.normalRules),this.editNameRule)}},Object(n.d)({userinfo:function(t){return t.user.loginData},subAccountList:function(t){return t.user.subAccount}}))},o=(r("355e"),r("2877")),c=Object(o.a)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"subaccount_wrapper"},[r("div",{staticClass:"subaccount_content"},[r("div",{staticClass:"subaccount_title"},[t._v(t._s(t.$t("subAccount.title")))]),r("el-form",{ref:"form",attrs:{rules:t.addingRules,model:t.subAccount}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:t.$t("subAccount.namePlaceholder")},model:{value:t.subAccount.username,callback:function(e){t.$set(t.subAccount,"username",e)},expression:"subAccount.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{placeholder:t.$t("subAccount.passwordPlaceholder")},model:{value:t.subAccount.password,callback:function(e){t.$set(t.subAccount,"password",e)},expression:"subAccount.password"}})],1),r("el-form-item",{staticClass:"btn_wrapper"},[r("el-button",{staticClass:"subaccount_btn",attrs:{type:"primary",loading:t.isLoading},on:{click:t.complete}},[t._v(t._s(t.$t("btn.complete")))])],1)],1)],1)])}),[],!1,null,"61b3b9d2",null);e.default=c.exports}}]);
//# sourceMappingURL=chunk-88add2de.6ed7f64f.js.map