{"version":3,"sources":["webpack:///./src/components/Pagination/index.vue?88a4","webpack:///./src/views/commodity/commodityList/index.vue?f7dd","webpack:///./src/views/commodity/commodityList/components/SortItem.vue?9898","webpack:///src/views/commodity/commodityList/components/SortItem.vue","webpack:///./src/views/commodity/commodityList/components/SortItem.vue","webpack:///./src/views/commodity/commodityList/components/SortItem.vue?da73","webpack:///./src/views/commodity/commodityList/index.vue?303d","webpack:///src/views/commodity/commodityList/index.vue","webpack:///./src/views/commodity/commodityList/index.vue","webpack:///./src/components/Pagination/index.vue?3515","webpack:///./src/components/Pagination/index.vue?7cce","webpack:///src/components/Pagination/index.vue","webpack:///./src/components/Pagination/index.vue","webpack:///./src/views/commodity/commodityList/components/SortItem.vue?032a","webpack:///./src/util/loading.js","webpack:///./src/views/commodity/commodityList/index.vue?0026"],"names":["props","created","this","changeCommodityList","data","newCommodityList","methods","JSON","parse","stringify","commodityList","forEach","item","status","btnLoading","modifyCommodity","$router","push","name","params","id","deleteCommodity","splice","index","changeSwitch","Number","size","row","modify_commodity","computed","_vm","_h","$createElement","_c","_self","staticClass","ref","staticStyle","attrs","$t","scopedSlots","_u","key","fn","scope","$index","oss_url","slot","_v","_s","on","$event","model","value","callback","$$v","$set","expression","mounted","getCommodityList","getProductCategories","activeName","currentComponent","SortItem","loading","categoryId","listQuery","page","limit","total","$store","dispatch","shop_id","shopId","getList","offset","setTimeout","tabClick","e","category_id","commodityStatus","$refs","switch","components","Pagination","_l","directives","rawName","_e","tag","required","type","default","pageSizes","Array","layout","String","background","Boolean","hidden","currentPage","get","set","$emit","val","pageSize","handleSizeChange","handleCurrentChange","component","class","_b","$attrs","loadingInstance","startLoading","targetdq","options","text","target","document","querySelector","customClass","Loading","service","endLoading","close"],"mappings":"4GAAA,W,qDCAA,I,0FCA+X,ECqE/X,CACEA,MAAO,CAAC,iBACRC,QAFF,WAGIC,KAAKC,uBAEPC,KALF,WAMI,MAAO,CACLC,iBAAkB,KAGtBC,QAAS,OAAX,IAAW,CAAX,CACIH,oBADJ,WAEMD,KAAKG,iBAAmBE,KAAKC,MAAMD,KAAKE,UAAUP,KAAKQ,gBACvDR,KAAKG,iBAAiBM,SAAQ,SAApC,GACQC,EAAKC,SAAWD,EAAKC,OACrBD,EAAKE,YAAa,MAGtBC,gBARJ,SAQA,KACM,IAAN,2BACMb,KAAKc,QAAQC,KAAK,CAChBC,KAAM,eACNC,OAAQ,CACNC,GAAIA,MAIVC,gBAjBJ,SAiBA,gBACMnB,KAAKG,iBAAiBiB,OAAOC,EAAO,EAAG,OAA7C,IAA6C,CAA7C,eACA,0BADA,IAEQT,YAAY,KAGd,IAAN,8BACM,EAAN,EACA,iBACQ,GAAR,IAEA,iBACQ,EAAR,kDACQ,EAAR,gCAEA,mBACQ,QAAR,OACQ,EAAR,uDACA,uBADA,IAEU,YAAV,SAKIU,aAzCJ,SAyCA,KACM,IAAN,kCAYA,6BACA,cAZA,CACA,KACA,OACA,UACA,UACA,cACA,SACA,aACA,OACA,iBAEA,IAEQX,OAAQY,OAAOZ,GACfa,KAAMnB,KAAKC,MAAMmB,EAAID,QAEvBxB,KAAK0B,iBAAiBT,KAE5B,aACI,iBAAJ,+BAGEU,SAAU,OAAZ,IAAY,CAAZ,GACA,aACI,OAAJ,YAAM,OAAN,yB,wBC/He,EAXC,YACd,GCTW,WAAa,IAAIC,EAAI5B,KAAS6B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,WAAW,CAACG,IAAI,YAAYC,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAOR,EAAIzB,iBAAiB,OAAS,SAAS,CAAC4B,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQR,EAAIS,GAAG,uBAAuB,MAAQ,SAASC,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACX,EAAG,SAAS,CAACK,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,WAAW,CAACI,YAAY,CAAC,MAAQ,QAAQ,OAAS,SAASC,MAAM,CAAC,kBAAkB,kCAAkC,IAAMR,EAAIzB,iBAAiBuC,EAAMC,QAAQC,UAAU,CAACb,EAAG,MAAM,CAACE,YAAY,aAAaG,MAAM,CAAC,KAAO,SAASS,KAAK,SAAS,CAACd,EAAG,IAAI,CAACE,YAAY,iCAAiC,GAAGF,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,MAAM,CAACH,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAIzB,iBAAiBuC,EAAMC,QAAQ3B,YAAY,UAAUe,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQR,EAAIS,GAAG,qBAAqB,YAAY,OAAOC,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASP,GACp/B,IAAIT,EAAMS,EAAIT,IACVkB,EAAST,EAAIS,OACjB,MAAO,CAACZ,EAAG,YAAY,CAACK,MAAM,CAAC,eAAe,UAAU,iBAAiB,WAAWY,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOrB,EAAIN,aAAaG,EAAKkB,KAAUO,MAAM,CAACC,MAAOvB,EAAIzB,iBAAiBwC,GAAc,OAAES,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIzB,iBAAiBwC,GAAS,SAAUU,IAAME,WAAW,4CAA4CxB,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,UAAUE,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASP,GACjb,IAAIT,EAAMS,EAAIT,IACVkB,EAAST,EAAIS,OACjB,MAAO,CAACZ,EAAG,YAAY,CAACI,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIf,gBAAgBY,EAAKkB,MAAW,CAACf,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIS,GAAG,eAAe,OAAON,EAAG,YAAY,CAACI,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAU,QAAUX,EAAIb,WAAW,MAAQ,IAAIoC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIT,gBAAgBM,EAAKkB,MAAW,CAACf,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIS,GAAG,eAAe,eAAe,IAAI,KAC5b,IDKpB,EACA,KACA,WACA,M,4CEf2W,EC8C7W,CACEmB,QADF,WAEIxD,KAAKyD,mBACLzD,KAAK0D,wBAEPxD,KALF,WAMI,MAAO,CACLyD,WAAY,MACZC,iBAAkBC,EAClBC,SAAS,EACTC,WAAY,KACZC,UAAW,CACTC,KAAM,EACNC,MAAO,IAET1D,cAAe,GACf2D,MAAO,IAGX/D,QAAS,OAAX,IAAW,CAAX,CACIsD,qBADJ,WAEM1D,KAAKoE,OAAOC,SAAS,uCAAwC,CAC3DC,QAAStE,KAAKuE,UAGlBC,QANJ,WAOMxE,KAAKyD,oBAGPA,iBAVJ,WAeA,WAJA,EAIA,uDAJA,CACQS,MAAOlE,KAAKgE,UAAUE,MACtBO,QAASzE,KAAKgE,UAAUC,KAAO,GAAKjE,KAAKgE,UAAUE,OAGrDlE,KAAK8D,SAAU,EACf,OAAN,IAAM,CAAN,oBACM,OAAN,mBAAM,CAAN,qBACQ,EAAR,WACQY,YAAW,WACT,OAAV,IAAU,KACV,GACQ,EAAR,mBACQ,EAAR,8BAIIC,SA5BJ,SA4BA,GAEM,IAAN,EADM3E,KAAK2D,WAAaiB,EAAE5D,KAEL,QAAX4D,EAAE5D,OACJC,EAAS,CACPiD,MAAOlE,KAAKgE,UAAUE,MACtBO,QAASzE,KAAKgE,UAAUC,KAAO,GAAKjE,KAAKgE,UAAUE,MACnDW,YAAa,KAAvB,iCAGM7E,KAAKyD,iBAAiBxC,KAE5B,aACI,gBAAJ,+BAGEU,SAAU,OAAZ,IAAY,CAAZ,CACImD,gBADJ,WAEM,OAAO9E,KAAK+E,MAAMC,SAExB,aACI,OAAJ,YAAM,OAAN,qBACI,aAAJ,YAAM,OAAN,wCAGEC,WAAY,CACVpB,SAAJ,EACIqB,WAAJ,MChHI,G,UAAY,YACd,GPTW,WAAa,IAAItD,EAAI5B,KAAS6B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,eAAe,CAACE,YAAY,mBAAmB,CAACF,EAAG,UAAU,CAACE,YAAY,cAAcE,YAAY,GAAGC,MAAM,CAAC,eAAe,QAAQY,GAAG,CAAC,YAAYpB,EAAI+C,UAAUzB,MAAM,CAACC,MAAOvB,EAAc,WAAEwB,SAAS,SAAUC,GAAMzB,EAAI+B,WAAWN,GAAKE,WAAW,eAAe,CAACxB,EAAG,cAAc,CAACK,MAAM,CAAC,MAAQR,EAAIS,GAAG,iBAAiB,KAAO,SAAST,EAAIuD,GAAIvD,EAAgB,cAAE,SAASlB,GAAM,OAAOqB,EAAG,cAAc,CAACS,IAAI9B,EAAKQ,GAAGkB,MAAM,CAAC,MAAQ1B,EAAKM,KAAK,KAAON,EAAKQ,GAAK,GAAG,UAAUR,EAAKQ,UAAS,IAAI,GAAGa,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACqD,WAAW,CAAC,CAACpE,KAAK,OAAOqE,QAAQ,SAASlC,MAAOvB,EAAW,QAAE2B,WAAW,YAAYtB,YAAY,oBAAsBL,EAAIkC,QAAwOlC,EAAI0D,KAAnOvD,EAAGH,EAAIgC,iBAAiB,CAAC2B,IAAI,YAAYnD,MAAM,CAAC,cAAgBR,EAAIpB,eAAewC,GAAG,CAAC,uBAAuB,SAASC,GAAQrB,EAAIpB,cAAcyC,GAAQ,wBAAwB,SAASA,GAAQrB,EAAIpB,cAAcyC,MAAoBlB,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,aAAa,CAACK,MAAM,CAAC,MAAQR,EAAIuC,MAAM,KAAOvC,EAAIoC,UAAUC,KAAK,MAAQrC,EAAIoC,UAAUE,OAAOlB,GAAG,CAAC,cAAc,SAASC,GAAQ,OAAOrB,EAAI0B,KAAK1B,EAAIoC,UAAW,OAAQf,IAAS,eAAe,SAASA,GAAQ,OAAOrB,EAAI0B,KAAK1B,EAAIoC,UAAW,QAASf,IAAS,WAAarB,EAAI4C,YAAY,IAAI,IAAI,KAC91C,IOWpB,EACA,KACA,WACA,OAIa,Y,uDCnBf,ICA8V,EC0B9V,CACE1E,MAAO,CACLqE,MAAO,CACLqB,UAAU,EACVC,KAAMlE,QAER0C,KAAM,CACJwB,KAAMlE,OACNmE,QAAS,GAEXxB,MAAO,CACLuB,KAAMlE,OACNmE,QAAS,IAEXC,UAAW,CACTF,KAAMG,MACNF,QAFN,WAGQ,MAAO,CAAC,GAAI,GAAI,GAAI,MAGxBG,OAAQ,CACNJ,KAAMK,OACNJ,QAAS,sCAEXK,WAAY,CACVN,KAAMO,QACNN,SAAS,GAEXO,OAAQ,CACNR,KAAMO,QACNN,SAAS,IAGb/D,SAAU,CACRuE,YAAa,CACXC,IADN,WAEQ,OAAOnG,KAAKiE,MAEdmC,IAJN,SAIA,GACQpG,KAAKqG,MAAM,cAAeC,KAG9BC,SAAU,CACRJ,IADN,WAEQ,OAAOnG,KAAKkE,OAEdkC,IAJN,SAIA,GACQpG,KAAKqG,MAAM,eAAgBC,MAIjClG,QAAS,CACPoG,iBADJ,SACA,GACMxG,KAAKqG,MAAM,aAAc,CACvBnC,MAAOoC,EACPrC,KAAMjE,KAAKkG,eAGfO,oBAPJ,SAOA,GACMzG,KAAKqG,MAAM,aAAc,CACvBnC,MAAOlE,KAAKuG,SACZtC,KAAMqC,O,wBC/EVI,EAAY,YACd,GHTW,WAAa,IAAI9E,EAAI5B,KAAS6B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,uBAAuB0E,MAAM,CAAEV,OAAQrE,EAAIqE,SAAU,CAAClE,EAAG,gBAAgBH,EAAIgF,GAAG,CAACxE,MAAM,CAAC,WAAaR,EAAImE,WAAW,eAAenE,EAAIsE,YAAY,YAAYtE,EAAI2E,SAAS,OAAS3E,EAAIiE,OAAO,aAAajE,EAAI+D,UAAU,MAAQ/D,EAAIuC,OAAOnB,GAAG,CAAC,qBAAqB,SAASC,GAAQrB,EAAIsE,YAAYjD,GAAQ,sBAAsB,SAASA,GAAQrB,EAAIsE,YAAYjD,GAAQ,kBAAkB,SAASA,GAAQrB,EAAI2E,SAAStD,GAAQ,mBAAmB,SAASA,GAAQrB,EAAI2E,SAAStD,GAAQ,cAAcrB,EAAI4E,iBAAiB,iBAAiB5E,EAAI6E,sBAAsB,gBAAgB7E,EAAIiF,QAAO,KAAS,KAClrB,IGWpB,EACA,KACA,WACA,MAIa,IAAAH,E,oECnBf,W,gFCAA,wEAEII,EAFJ,YAIO,SAASC,EAAaC,GACzB,IAAIC,EAAU,CACVC,KAAM,gBACNnB,WAAY,2BACZoB,OAAQC,SAASC,cAAcL,IAAa,OAC5CM,YAAa,kBAEjBR,EAAkBS,UAAQC,QAAQP,GAG/B,SAASQ,IACZX,EAAgBY,U,kCCfpB","file":"js/chunk-32b6341f.579894ff.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6902aa3c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"commodity_wrapper\"},[_c('el-scrollbar',{staticClass:\"commodity_title\"},[_c('el-tabs',{staticClass:\"sidebar_tab\",staticStyle:{},attrs:{\"tab-position\":\"left\"},on:{\"tab-click\":_vm.tabClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":_vm.$t('commodity.all'),\"name\":\"All\"}}),_vm._l((_vm.categoryList),function(item){return _c('el-tab-pane',{key:item.id,attrs:{\"label\":item.name,\"name\":item.id + '',\"data-id\":item.id}})})],2)],1),_c('div',{staticClass:\"commodity_content\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"loading_wrapper\"}),(!_vm.loading)?_c(_vm.currentComponent,{tag:\"component\",attrs:{\"commodityList\":_vm.commodityList},on:{\"update:commodityList\":function($event){_vm.commodityList=$event},\"update:commodity-list\":function($event){_vm.commodityList=$event}}}):_vm._e(),_c('div',{staticClass:\"pagination_wrapper\"},[_c('pagination',{attrs:{\"total\":_vm.total,\"page\":_vm.listQuery.page,\"limit\":_vm.listQuery.limit},on:{\"update:page\":function($event){return _vm.$set(_vm.listQuery, \"page\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.listQuery, \"limit\", $event)},\"pagination\":_vm.getList}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortItem.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"commodity_list\">\n    <el-table\n      ref=\"itemTable\"\n      :data=\"newCommodityList\"\n      height=\"100%\"\n      style=\"width: 100%\"\n    >\n      <el-table-column :label=\"$t('commodity.commodity')\" width=\"width\">\n        <template slot-scope=\"scope\">\n          <el-row :gutter=\"10\">\n            <el-col :span=\"12\">\n              <el-image\n                referrer-policy=\"strict-origin-when-cross-origin\"\n                style=\"width: 100px; height: 100px\"\n                :src=\"newCommodityList[scope.$index].oss_url\"\n              >\n                <div slot=\"error\" class=\"image-slot\">\n                  <i class=\"el-icon-picture-outline\"></i>\n                </div>\n              </el-image>\n            </el-col>\n            <el-col :span=\"12\">\n              <div>{{ newCommodityList[scope.$index].name }}</div>\n            </el-col>\n          </el-row>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('commodity.display')\" min-width=\"20%\">\n        <template slot-scope=\"{ row, $index }\">\n          <el-switch\n            v-model=\"newCommodityList[$index].status\"\n            active-color=\"#1fab89\"\n            inactive-color=\"#DCDCDC\"\n            @change=\"changeSwitch(row, $index)\"\n          ></el-switch>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\">\n        <template slot-scope=\"{ row, $index }\">\n          <el-button\n            size=\"small\"\n            type=\"primary\"\n            @click=\"modifyCommodity(row, $index)\"\n            style=\"width: 80px\"\n          >\n            {{ $t(\"btn.modify\") }}\n          </el-button>\n          <el-button\n            size=\"small\"\n            type=\"primary\"\n            :loading=\"row.btnLoading\"\n            plain\n            @click=\"deleteCommodity(row, $index)\"\n            style=\"width: 80px\"\n          >\n            {{ $t(\"btn.delete\") }}\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { commodityAPI } from \"@/api\";\nimport { mapActions, mapState } from \"vuex\";\nimport { copyObjectProperties } from \"@/util\";\n\nexport default {\n  props: [\"commodityList\"],\n  created() {\n    this.changeCommodityList();\n  },\n  data() {\n    return {\n      newCommodityList: [],\n    };\n  },\n  methods: {\n    changeCommodityList() {\n      this.newCommodityList = JSON.parse(JSON.stringify(this.commodityList));\n      this.newCommodityList.forEach((item) => {\n        item.status = !!item.status;\n        item.btnLoading = false;\n      });\n    },\n    modifyCommodity(row, index) {\n      const id = this.commodityList[index].id;\n      this.$router.push({\n        name: \"Adding Goods\",\n        params: {\n          id: id,\n        },\n      });\n    },\n    deleteCommodity(row, index) {\n      this.newCommodityList.splice(index, 1, {\n        ...this.newCommodityList[index],\n        btnLoading: true,\n      });\n\n      const id = this.newCommodityList[index].id;\n      commodityAPI\n        .deleteCommodity({\n          id: id,\n        })\n        .then(() => {\n          this.$message.success(this.$t(\"public.deleteSuccessMsg\"));\n          this.newCommodityList.splice(index, 1);\n        })\n        .catch((err) => {\n          console.log(err);\n          this.newCommodityList.splice(index, 1, {\n            ...this.newCommodityList[index],\n            btnLoading: false,\n          });\n        });\n    },\n\n    changeSwitch(row, index) {\n      let status = this.newCommodityList[index].status;\n      let listArr = [\n        \"id\",\n        \"name\",\n        \"oss_url\",\n        \"shop_id\",\n        \"category_id\",\n        \"status\",\n        \"base_price\",\n        \"size\",\n        \"description\",\n      ];\n      let params = {\n        ...copyObjectProperties(row, listArr),\n        status: Number(status),\n        size: JSON.parse(row.size),\n      };\n      this.modify_commodity(params);\n    },\n    ...mapActions({\n      modify_commodity: \"commodity/modifyCommodity\",\n    }),\n  },\n  computed: {\n    ...mapState({\n      shopId: (state) => state.user.loginData.id,\n    }),\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.commodity_list {\n  height: calc(100vh - 230px);\n}\n\n.sortitem_loading_wrapper {\n  padding: 5em;\n}\n\n::v-deep .el-table__body-wrapper {\n  height: 90% !important;\n}\n</style>\n","import { render, staticRenderFns } from \"./SortItem.vue?vue&type=template&id=3f4c186c&scoped=true&\"\nimport script from \"./SortItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SortItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SortItem.vue?vue&type=style&index=0&id=3f4c186c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f4c186c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"commodity_list\"},[_c('el-table',{ref:\"itemTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.newCommodityList,\"height\":\"100%\"}},[_c('el-table-column',{attrs:{\"label\":_vm.$t('commodity.commodity'),\"width\":\"width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-image',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"referrer-policy\":\"strict-origin-when-cross-origin\",\"src\":_vm.newCommodityList[scope.$index].oss_url}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])])],1),_c('el-col',{attrs:{\"span\":12}},[_c('div',[_vm._v(_vm._s(_vm.newCommodityList[scope.$index].name))])])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commodity.display'),\"min-width\":\"20%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-switch',{attrs:{\"active-color\":\"#1fab89\",\"inactive-color\":\"#DCDCDC\"},on:{\"change\":function($event){return _vm.changeSwitch(row, $index)}},model:{value:(_vm.newCommodityList[$index].status),callback:function ($$v) {_vm.$set(_vm.newCommodityList[$index], \"status\", $$v)},expression:\"newCommodityList[$index].status\"}})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{staticStyle:{\"width\":\"80px\"},attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.modifyCommodity(row, $index)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"btn.modify\"))+\" \")]),_c('el-button',{staticStyle:{\"width\":\"80px\"},attrs:{\"size\":\"small\",\"type\":\"primary\",\"loading\":row.btnLoading,\"plain\":\"\"},on:{\"click\":function($event){return _vm.deleteCommodity(row, $index)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"btn.delete\"))+\" \")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"commodity_wrapper\">\n    <el-scrollbar class=\"commodity_title\">\n      <el-tabs\n        tab-position=\"left\"\n        v-model=\"activeName\"\n        @tab-click=\"tabClick\"\n        class=\"sidebar_tab\"\n        style=\"text-align：left\"\n      >\n        <el-tab-pane :label=\"$t('commodity.all')\" name=\"All\"> </el-tab-pane>\n        <el-tab-pane\n          v-for=\"item in categoryList\"\n          :key=\"item.id\"\n          :label=\"item.name\"\n          :name=\"item.id + ''\"\n          :data-id=\"item.id\"\n        >\n        </el-tab-pane>\n      </el-tabs>\n    </el-scrollbar>\n    <div class=\"commodity_content\">\n      <div class=\"loading_wrapper\" v-show=\"loading\"></div>\n      <component\n        v-if=\"!loading\"\n        :is=\"currentComponent\"\n        :commodityList.sync=\"commodityList\"\n      ></component>\n      <div class=\"pagination_wrapper\">\n        <pagination\n          :total=\"total\"\n          :page.sync=\"listQuery.page\"\n          :limit.sync=\"listQuery.limit\"\n          @pagination=\"getList\"\n        ></pagination>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SortItem from \"./components/SortItem\";\nimport { getCommodityList } from \"@/api/commodityAPI\";\nimport { mapActions, mapState } from \"vuex\";\nimport { startLoading, endLoading } from \"@/util/loading.js\";\nimport Pagination from \"@/components/Pagination\";\nexport default {\n  mounted() {\n    this.getCommodityList();\n    this.getProductCategories();\n  },\n  data() {\n    return {\n      activeName: \"All\",\n      currentComponent: SortItem,\n      loading: false,\n      categoryId: null,\n      listQuery: {\n        page: 1,\n        limit: 20,\n      },\n      commodityList: [],\n      total: 0,\n    };\n  },\n  methods: {\n    getProductCategories() {\n      this.$store.dispatch(\"commodity/getCommodityCategorityList\", {\n        shop_id: this.shopId,\n      });\n    },\n    getList() {\n      this.getCommodityList();\n    },\n    // 获取商品列表\n    getCommodityList(\n      params = {\n        limit: this.listQuery.limit,\n        offset: (this.listQuery.page - 1) * this.listQuery.limit,\n      }\n    ) {\n      this.loading = true;\n      startLoading(\".loading_wrapper\");\n      getCommodityList(params).then((ret) => {\n        this.loading = false;\n        setTimeout(() => {\n          endLoading();\n        }, 0);\n        this.total = ret.data.total;\n        this.commodityList = ret.data.list;\n      });\n    },\n\n    tabClick(e) {\n      this.activeName = e.name;\n      let params;\n      if (e.name !== \"All\") {\n        params = {\n          limit: this.listQuery.limit,\n          offset: (this.listQuery.page - 1) * this.listQuery.limit,\n          category_id: (this.categoryId = e.$attrs[\"data-id\"]),\n        };\n      }\n      this.getCommodityList(params);\n    },\n    ...mapActions({\n      modifyCommodity: \"commodity/modifyCommodity\",\n    }),\n  },\n  computed: {\n    commodityStatus() {\n      return this.$refs.switch;\n    },\n    ...mapState({\n      shopId: (state) => state.user.loginData.id,\n      categoryList: (state) => state.commodity.commodityCategorityList,\n    }),\n  },\n  components: {\n    SortItem,\n    Pagination,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-scrollbar__wrap {\n  overflow-x: hidden;\n}\n\n.el-scrollbar__bar.is-horizontal {\n  display: none;\n}\n\n.el-scrollbar__bar {\n  opacity: 1;\n}\n\n.commodity_title {\n  height: 100%;\n  min-width: 180px;\n  max-width: 300px;\n  overflow: hidden;\n}\n\n.sidebar_tab ::v-deep .el-tabs__item {\n  text-align: left !important;\n}\n\n.commodity_wrapper {\n  display: flex;\n  height: 100%;\n  flex-direction: row;\n}\n\n.commodity_content {\n  flex: 1;\n  width: 300px;\n  position: relative;\n\n  .loading_wrapper {\n    padding: 5em;\n  }\n  .pagination_wrapper {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=accf51c2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=accf51c2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"accf51c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagination-container\",class:{ hidden: _vm.hidden }},[_c('el-pagination',_vm._b({attrs:{\"background\":_vm.background,\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":_vm.layout,\"page-sizes\":_vm.pageSizes,\"total\":_vm.total},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:pageSize\":function($event){_vm.pageSize=$event},\"update:page-size\":function($event){_vm.pageSize=$event},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}},'el-pagination',_vm.$attrs,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<!--\n * @Author: your name\n * @Date: 1970-01-01 08:00:00\n * @LastEditTime: 2021-02-20 14:59:52\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /webAdmin/src/components/Pagination/index.vue\n-->\n<template>\n  <div :class=\"{ hidden: hidden }\" class=\"pagination-container\">\n    <el-pagination\n      :background=\"background\"\n      :current-page.sync=\"currentPage\"\n      :page-size.sync=\"pageSize\"\n      :layout=\"layout\"\n      :page-sizes=\"pageSizes\"\n      :total=\"total\"\n      v-bind=\"$attrs\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    total: {\n      required: true,\n      type: Number,\n    },\n    page: {\n      type: Number,\n      default: 1,\n    },\n    limit: {\n      type: Number,\n      default: 20,\n    },\n    pageSizes: {\n      type: Array,\n      default() {\n        return [10, 20, 30, 50];\n      },\n    },\n    layout: {\n      type: String,\n      default: \"total,sizes,prev,pager,next,jumper\",\n    },\n    background: {\n      type: Boolean,\n      default: true,\n    },\n    hidden: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    currentPage: {\n      get() {\n        return this.page;\n      },\n      set(val) {\n        this.$emit(\"update:page\", val);\n      },\n    },\n    pageSize: {\n      get() {\n        return this.limit;\n      },\n      set(val) {\n        this.$emit(\"update:limit\", val);\n      },\n    },\n  },\n  methods: {\n    handleSizeChange(val) {\n      this.$emit(\"pagination\", {\n        limit: val,\n        page: this.currentPage,\n      });\n    },\n    handleCurrentChange(val) {\n      this.$emit(\"pagination\", {\n        limit: this.pageSize,\n        page: val,\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.pagination-container {\n  background: #fff;\n}\n.pagination-container.hidden {\n  display: none;\n}\n</style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6902aa3c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6902aa3c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6902aa3c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortItem.vue?vue&type=style&index=0&id=3f4c186c&lang=scss&scoped=true&\"","import { Loading } from 'element-ui'\n\nlet loadingInstance\n\nexport function startLoading(targetdq) {\n    let options = {\n        text: 'loading......',\n        background: 'rgba(255, 255, 255, 0.6)',\n        target: document.querySelector(targetdq) || 'body',\n        customClass: 'server_loading'\n    }\n    loadingInstance = Loading.service(options)\n}\n\nexport function endLoading() {\n    loadingInstance.close()\n}\n\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=accf51c2&lang=scss&scoped=true&\""],"sourceRoot":""}